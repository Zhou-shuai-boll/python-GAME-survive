# 丧尸危机生存游戏需求文档

## 1. 项目概述

### 1.1 项目简介

《丧尸危机生存》是一款基于`Python`和Pygame开发的生存策略类文字冒险游戏。玩家需要在丧尸横行的末日环境中努力生存7天，等待救援的到来。游戏融合了资源管理、风险决策和回合制战斗元素，为玩家提供紧张刺激的生存体验。

### 1.2 项目目标

- 开发一款完整可玩的生存类游戏

- 实现资源管理和风险决策的核心玩法

- 提供平衡的游戏难度和可重玩性

- 创建直观的用户界面和流畅的游戏体验

### 1.3 目标用户

- 年龄：16岁以上

- 兴趣：生存游戏、策略游戏、文字冒险游戏爱好者

- 技能水平：适合所有游戏技能水平的玩家

### 1.4 技术栈

- 编程语言：`Python`3.x

- 游戏引擎：Pygame

- 开发环境：跨平台（Windows/macOS/Linux）

## 2. 游戏功能需求

### 2.1 核心游戏机制

#### 2.1.1 生存指标系统

**健康值（Health）**

- 初始值：100点

- 影响因素：

- 饥饿度为0时，每时间单位减少5点

- 口渴度为0时，每时间单位减少10点

- 战斗失败时减少20-30点

- 恢复方式：

- 休息：恢复10点

- 使用药品：恢复30点

**饥饿度（Hunger）**

- 初始值：100点

- 自然衰减：每时间单位减少10点

- 恢复方式：进食恢复30点

**口渴度（Thirst）**

- 初始值：100点

- 自然衰减：每时间单位减少15点

- 恢复方式：饮水恢复40点

#### 2.1.2 时间系统

- 现实时间与游戏时间比例：30秒 = 1游戏小时

- 游戏总时长：7游戏天

- 时间触发事件：

- 生存指标衰减

- 天数更新

- 游戏结束检查

#### 2.1.3 资源管理系统

**资源类型**

- 食物：用于恢复饥饿度

- 水：用于恢复口渴度

- 药品：用于恢复健康值

**资源获取**

- 探索周围：随机获得食物或水

- 超市：稳定获得2-4食物，1-3水

- 医院：获得1-2药品

- 森林：获得1-2水

### 2.2 场景系统

#### 2.2.1 安全屋

- 功能：安全休息场所

- 特殊效果：无丧尸遭遇风险

- 可用行动：休息、进食、饮水、使用药品

#### 2.2.2 超市

- 功能：主要资源获取点

- 资源产出：食物、水

- 丧尸遭遇几率：30%（基础几率的1.5倍）

#### 2.2.3 医院

- 功能：医疗资源获取点

- 资源产出：药品

- 丧尸遭遇几率：24%（基础几率的1.2倍）

#### 2.2.4 森林

- 功能：水资源获取点

- 资源产出：水

- 丧尸遭遇几率：16%（基础几率的0.8倍）

#### 2.2.5 探索周围

- 功能：随机资源获取

- 资源产出：随机食物或水（40%几率）

- 丧尸遭遇几率：20%（基础几率）

### 2.3 战斗系统

#### 2.3.1 遭遇机制

- 触发条件：玩家移动到资源点时随机触发

- 遭遇几率：各场景不同，基础几率为20%

#### 2.3.2 战斗选项

**战斗**

- 成功率计算公式：30% + 武器等级×10% + 健康值×0.2%

- 成功奖励：武器等级提升0.5（最高3级）

- 失败惩罚：健康值减少30点

**逃跑**

- 成功率计算公式：60% + 健康值×0.2%

- 成功奖励：安全返回安全屋

- 失败惩罚：健康值减少20点

#### 2.3.3 武器系统

- 初始等级：1级

- 最高等级：3级

- 升级方式：成功击败丧尸

- 效果：提高战斗成功率

### 2.4 用户界面需求

#### 2.4.1 主游戏界面

**状态显示区**

- 位置：屏幕顶部

- 显示内容：

- 当前天数（第X天/7天）

- 健康值（带颜色提示：绿色>50，黄色20-50，红色<20）

- 饥饿度（带颜色提示）

- 口渴度（带颜色提示）

**资源显示区**

- 位置：状态栏下方

- 显示内容：

- 食物数量

- 水数量

- 药品数量

- 武器等级

**场景显示区**

- 位置：屏幕中央

- 功能：图形化显示当前场景

- 场景类型：

- 安全屋：棕色房屋图形

- 超市：蓝色建筑图形

- 医院：白色建筑加红十字

- 森林：多个绿色三角形树木

- 探索区域：棕色地面

**行动按钮区**

- 位置：屏幕底部

- 按钮类型：

- 场景移动按钮：探索周围、去超市、去医院、去森林

- 生存行动按钮：进食、喝水、休息、使用药品

#### 2.4.2 战斗界面

- 特殊元素：丧尸图形显示

- 战斗选项：战斗按钮、逃跑按钮

- 结果显示：战斗结果文字反馈

#### 2.4.3 游戏结束界面

- 半透明黑色覆盖层

- 游戏结果提示（成功/失败）

- 继续游戏按钮

### 2.5 游戏流程

#### 2.5.1 开始阶段

- 初始化所有游戏状态

- 设置初始资源

- 显示欢迎信息

- #### 2.5.2 进行阶段
- 玩家选择行动
- 更新游戏状态
- 检查随机事件
- 更新界面显示
- 重复循环直到游戏结束

#### 2.5.3 结束条件

**胜利条件**

- 生存时间达到7天

**失败条件**

- 健康值降至0或以下

## 3. 非功能需求

### 3.1 性能需求

- 帧率：稳定30 FPS

- 响应时间：用户操作后100ms内响应

- 内存使用：控制在500MB以内

### 3.2 可用性需求

- 界面直观易懂

- 操作简单明了

- 游戏规则容易理解

- 提供明确的状态反馈

### 3.3 兼容性需求

- 支持Windows 7/10/11

- 支持macOS 10.14及以上

- 支持主流Linux发行版

### 3.4 可维护性需求

- 代码结构清晰，模块化设计

- 注释完整，便于后续修改

- 游戏参数易于调整平衡

## 4. 技术实现细节

### 4.1 游戏架构

游戏主循环

├── 事件处理

├── 游戏状态更新

├── 界面渲染

└── 特殊事件处理

### 4.2 核心类设计

**GameState类**

- 属性：生存指标、资源数量、游戏状态

- 方法：状态更新、时间管理、游戏结束检查

**Button类**

- 属性：位置、大小、文本、颜色

- 方法：绘制、悬停检测、点击检测

### 4.3 数据存储

- 游戏状态：运行时内存存储

- 无需持久化存储（单次游戏会话）

## 5. 游戏平衡性设计

### 5.1 难度曲线

- 前期：资源稀缺，学习阶段

- 中期：风险与回报平衡

- 后期：时间压力增加

### 5.2 概率设置

- 丧尸遭遇几率：20%（基础）

- 探索找到物品几率：40%

- 战斗基础成功率：30%

- 逃跑基础成功率：60%

### 5.3 资源平衡

- 资源消耗与获取比率经过计算平衡

- 不同场景提供不同的风险回报比

## 6. 扩展性考虑

### 6.1 潜在功能扩展

- 存档系统

- 难度选择

- 成就系统

- 更多场景和事件

- 音效系统

### 6.2 代码扩展点

- 易于添加新场景类型

- 事件系统可扩展

- 资源类型可增加

## 7. 测试需求

### 7.1 功能测试

- 所有按钮功能正常

- 游戏状态正确更新

- 战斗系统平衡性

- 游戏结束条件触发

### 7.2 兼容性测试

- 多平台运行测试

- 不同屏幕分辨率适配

### 7.3 用户体验测试

- 游戏难度适中

- 界面操作流畅

- 游戏指引清晰

## 8. 项目交付物

### 8.1 代码交付

- 完整可运行的`Python`源代码

- 必要的资源文件

- 使用说明文档

### 8.2 文档交付

- 需求文档（本文档）

- 技术设计文档

- 用户操作手册

---

**文档版本信息**

- 文档版本：v1.0

- 创建日期：2025年10月

- 最后更新：2025年10月